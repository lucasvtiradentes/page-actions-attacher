!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).WebpageCustomizer=t()}(this,(function(){"use strict";const e={floatingContainer:"ffa_floating_container",floatingButton:"ffa_floating_button",optionsContainer:"ffa_options_container",modalContainer:"ffa_modal_container"},t={name:"webpage-customizer",version:"1.13.0",buildTime:"23/02/2025 21:26:08",link:"https://github.com/lucasvtiradentes/webpage-customizer",temperMonkeyLink:"https://chrome.google.com/webstore/detail/tampermonkey/dhdgffkkebhmkfjojejmpbldmpobfkfo",initialScript:"https://github.com/lucasvtiradentes/webpage-customizer/dist/initial_temper_monkey_script.js"},o={debug:!1,typeDelay:0,onSpaRouteChange:e=>console.log(`change route to: ${e}`),colorScheme:{primary:{background:"#0074D9",text:"#fff"},secondary:{background:"#fff",hoverBackground:"#ccc",text:"#000000",border:"#ccc"},overlay:"rgba(0, 0, 0, 0.7)",boxShadown:"rgba(0, 0, 0, 0.1)"},floatingButton:{iconImage:"https://www.svgrepo.com/show/532994/plus.svg",iconColorCss:"filter: invert(100%);",right:"30px",bottom:"30px",shortcutFn:e=>e.ctrlKey&&"Space"===e.code}};class n{configs;constructor(e){this.configs={...o,...e}}async delay(e,t){return t||this.logger(`waiting: ${e}`),new Promise((t=>setTimeout(t,e)))}getElementByTagText(e,t,o){const n=o??0,r=Array.from(document.querySelectorAll(e)).filter((e=>e.innerText.search(t)>-1)),i=0===r.length?null:r[n];return i||this.logger(`not found element: [${e} | ${t} | ${n}]`,"error"),i}getElementByAttributeValue(e,t,o,n){const r=n??0,i=Array.from(document.querySelectorAll(e)).filter((e=>e.getAttribute(t)===o)),s=0===i.length?null:i[r];return s||this.logger(`not found element: [${e} | ${t} | ${o} | ${r}]`,"error"),s}getElementBySelector(e){const t=document.querySelector(e);return t||this.logger(`not found element by selector: [${e}]`,"error"),t}getElementByInputName(e){const t=document.querySelector(`input[name="${e}"]`);return t||this.logger(`not found element by inputName: [${e}]`,"error"),t}async typeOnInput(e,t){this.logger(`typing: ${t}`);for(const o of t){const t=new Event("input",{bubbles:!0}),n=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value");if(n){const r=n.set;r&&r.call(e,e.value+o),e.dispatchEvent(t);const i=new KeyboardEvent("keydown",{key:o,code:`Key${o.toUpperCase()}`,bubbles:!0,cancelable:!0});await this.delay(this.configs.typeDelay,!0),e.dispatchEvent(i)}}}async typeOnInputByElement(e,t){e?(this.logger(`type on element [${e}]`),await this.typeOnInput(e,t)):this.logger(`not found element to type : ${t}`,"error")}async typeOnInputBySelector(e,t){const o=this.getElementBySelector(e);o&&(this.logger(`type on element by selector [${e}]`),await this.typeOnInput(o,t))}async typeOnInputByInputName(e,t){const o=this.getElementByInputName(e);o&&(this.logger(`type on element by inputName [${e}]`),await this.typeOnInput(o,t))}click(e){e&&e.click()}clickElement(e){e&&(this.logger(`clicked element: [${e}]`),this.click(e))}clickElementBySelector(e){const t=this.getElementBySelector(e);t&&(this.logger(`clicked element by selector: [${e}]`),this.click(t))}clickElementByTagText(e,t,o){const n=o??0,r=this.getElementByTagText(e,t,n);r&&(this.logger(`clicked element by tag text: [${e} | ${t} | ${n}]`),this.click(r))}clickElementByTagAttributeValue(e,t,o,n){const r=n??0,i=this.getElementByAttributeValue(e,t,o,r);i&&(this.logger(`clicked element by attribute value: [${e} | ${t} | ${o} | ${r}]`),this.click(i))}generateFormRow(e,t,o){const n=`navigator.clipboard.writeText('${t}'); ${o?`(${String(o).replace(/"/g,"'")})()`:""};`;return`\n      <div style="display: grid; grid-template-columns: 1fr 2fr;">\n        <div style="flex: 1; padding: 3px 10px; font-weight: 600;">${e}</div>\n        <div style="flex: 1; padding: 3px 10px; background-color: ${this.configs.colorScheme.secondary.background}; this.style.color = '${this.configs.colorScheme.secondary.text}'; cursor: pointer;"\n          onmouseover="this.style.backgroundColor = '${this.configs.colorScheme.primary.background}'; this.style.color = '${this.configs.colorScheme.primary.text}'; this.style.cursor = 'pointer';"\n          onmouseout="this.style.backgroundColor = '${this.configs.colorScheme.secondary.background}'; this.style.color = '${this.configs.colorScheme.secondary.text}'; this.style.cursor = 'default';"\n          onclick="${n}"\n        >${t}</div>\n      </div>`}getModal(t){const o=document.createElement("div");o.setAttribute("class",e.modalContainer),o.setAttribute("style",`display: flex; align-items: center; justify-content: center; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: ${this.configs.colorScheme.overlay}; z-index: 1000;`);const n=document.createElement("div");n.setAttribute("style",`background-color: ${this.configs.colorScheme.secondary.background}; color: ${this.configs.colorScheme.secondary.text}; border-radius: 5px; padding: 10px; box-shadow: 0px 4px 6px ${this.configs.colorScheme.boxShadown}; max-width: 80%;`),o.appendChild(n);const r=document.createElement("div");n.appendChild(r);const i=document.createElement("h2");i.textContent=t,i.setAttribute("style","padding: 10px; margin: 0; font-weight: bold; text-align: center;"),r.appendChild(i),document.body.appendChild(o);const s=e=>{"Escape"!==e.key&&"Esc"!==e.key&&"'"!==e.key||(this.logger("detected Escape press, closing modal"),c())},c=()=>{let t="",o=null;try{t=`.${e.modalContainer}`,o=s}catch(e){t=".ffa_modal_container"}const n=document.querySelector(t);n&&document.body.removeChild(n),o&&document.removeEventListener("keydown",s)};return o.addEventListener("click",(e=>{e.target===o&&c()})),document.addEventListener("keydown",s),{updateModalContent:(e,t)=>{const o=document.createElement("div");o.innerHTML=e,r.innerHTML=i.outerHTML+o.outerHTML,t&&t.length>0&&t.forEach((e=>{const t=document.createElement("button");t.textContent=e.title,t.setAttribute("style",`display: block; width: 100%; margin-top: 10px; text-align: center; padding: 10px; border: none; background-color: ${this.configs.colorScheme.primary.background}; color: ${this.configs.colorScheme.primary.text}; border-radius: 5px; cursor: pointer;`),t.addEventListener("click",(()=>{e.action(),!1!==e.exitAfterAction&&c()})),r.appendChild(t)}))},closeModal:c}}showToast(e,t){const o=t??3;let n=o;(e=>{const t="_ffa_toast",r=document.createElement("div");r.id=t,r.setAttribute("style",`position: fixed; padding: 10px; top: 20px; right: 20px; background-color: ${this.configs.colorScheme.secondary.background}; color: ${this.configs.colorScheme.secondary.text}; z-index: 1002; border-radius: 10px; box-shadow: 0 0 10px ${this.configs.colorScheme.primary.background}; font-size: 16px;`);const i=document.createElement("span");i.innerHTML=e.replace(/\n/g,"<br>"),i.setAttribute("style","display: flex; justify-content: center; align-items: center; height: 100%;"),r.appendChild(i);const s=document.createElement("div");s.setAttribute("style",`width: 100%; background-color: ${this.configs.colorScheme.secondary.background}; height: 5px; margin-top: 5px; border-radius: 3px; transition: width 1s linear;`),r.appendChild(s);const c=document.createElement("div");c.setAttribute("style",`width: 100%; background-color: ${this.configs.colorScheme.primary.background}; height: 100%; border-radius: 3px;`),s.appendChild(c),document.body.appendChild(r);const a=i.getBoundingClientRect().width+50;r.style.width=`${Math.min(a,600)}px`;const l=setInterval((()=>{n--;const e=n/o*100;if(c.style.width=`${e}%`,n<0){clearInterval(l);const e=document.getElementById(t);e&&e.remove()}}),1e3)})(e)}logger(e,t="info"){this.configs.debug&&("error"===t&&console.error(e),"info"===t&&console.log(e))}}class r{personName=this.generatePersonName();companyName=this.generateCompanyName();generateCNPJ(){const e=(()=>{const e=[];for(let t=0;t<12;t++)e.push(Math.floor(10*Math.random()));return e})(),t=(e=>{const t=[5,4,3,2,9,8,7,6,5,4,3,2];let o=0;for(let n=0;n<12;n++)o+=e[n]*t[n];const n=o%11;return n<2?0:11-n})(e),o=((e,t)=>{const o=[6,5,4,3,2,9,8,7,6,5,4,3,2];let n=0;for(let t=0;t<12;t++)n+=e[t]*o[t];n+=t*o[12];const r=n%11;return r<2?0:11-r})(e.concat(t),t);return`${e.join("")}${t}${o}`}generateCPF(){const e=[];for(let t=0;t<11;t++){const t=(9*Math.random()).toFixed(0);e.push(t)}const t=e.join("");let o=10,n=11,r=0,i=0,s=0,c=0;for(let e=0;e<11;e++){for(const n of t[e]){const e=Number(n)*o;o--,r+=e}for(const o of t[e]){const e=Number(o)*n;n--,i+=e}s=11-(r-Number(t[9]))%11,c=11-(i-Number(t[10]))%11}return s>9&&(s=0),c>9&&(c=0),s===Number(t[9])&&c===Number(t[10])&&t.charAt(0).repeat(11)!==t?t:this.generateCPF()}generateCompanyName(){const e=["Tecnologia","Global","Inovador","Digital","Criativo","Avançado","Ecológico","Futuro","Dinâmico","Estratégico","Inovação","Sustentável","Inteligente","Modernidade","Progresso","Transformação","Qualidade","Comunicação","Conectado","Energia"],t=["Soluções","Sistemas","Empresas","Grupo","Serviços","Corp","Indústrias","Tecnologias","Inovações","Ventures","Parcerias","Produtos","Consultoria","Desenvolvimento","Logística","Comércio","Marketing","Pesquisa","Engenharia","Educação"],o=`${e[Math.floor(Math.random()*e.length)]} ${t[Math.floor(Math.random()*t.length)]} ${Math.floor(1e3*Math.random())}`;return this.companyName=o,o}generateCompanyEmail(e){const t=Math.floor(900*Math.random())+100;return`${(e??this.companyName).replace(/\s/g,".").toLowerCase()}${t}@gmail.com`}generatePersonName(){const e=["Miguel","Sofia","Davi","Alice","Arthur","Julia","Pedro","Manuela","Gabriel","Laura","Bernardo","Luiza","Lucas","Valentina","Matheus","Giovanna","Rafael","Beatriz","Enzo","Maria Eduarda"],t=["Silva","Santos","Oliveira","Pereira","Almeida","Fernandes","Ribeiro","Costa","Carvalho","Martins","Rodrigues","Nascimento","Lima","Araujo","Monteiro","Gomes","Barbosa","Cardoso","Correia","Dias"],o=`${e[Math.floor(Math.random()*e.length)]} ${t[Math.floor(Math.random()*t.length)]}`;return this.personName=o,o}generatePersonEmail(e){const t=Math.floor(900*Math.random())+100;return`${(e??this.personName).replace(/\s/g,".").toLowerCase()}${t}@gmail.com`}generatePersonUsername(e){return`${(e??this.personName).split(" ").map((e=>e.charAt(0))).join("").toLowerCase()}${Math.floor(9e3*Math.random())+1e3}`}removeNumbersFromString(e){return e.replace(/[0-9]/g,"")}getOnlyNumbersFromString(e){return e.replace(/\D+/g,"")}generateRandomNumberBetweenInterval(e,t){return Math.floor(Math.random()*(t-e+1))+e}generateNRandomNumber(e){return Math.floor(Math.random()*Math.pow(10,e)).toString().padStart(e,"0")}}class i{configs;floatingEl;optionsEl;unbindEventsFn=()=>{};constructor(e){this.configs={...o,...e},this.floatingEl=null,this.optionsEl=null}updateOptions(e){if(this.optionsEl&&(this.optionsEl.remove(),this.optionsEl=null),!this.floatingEl)return void this.logger("first use attach in order to update options!");const t=this.getOptionsEl(e),o=this.atachFloatingToHTML(this.floatingEl,t);this.optionsEl=t,this.unbindEventsFn=o}detach(){this.floatingEl?(this.logger("removed floating button element"),this.unbindEventsFn(),this.floatingEl.remove(),this.unbindEventsFn=()=>{},this.floatingEl=null,this.optionsEl=null):this.logger("did not find floating button element")}attach(e){const t=this.getOptionsEl(e),o=this.createFloatingHTML(),n=this.atachFloatingToHTML(o,t);this.detectUrlChangesOnSpa(this.configs.onSpaRouteChange),this.floatingEl=o,this.optionsEl=t,this.unbindEventsFn=n}detectUrlChangesOnSpa(e){let t=location.href;new MutationObserver((()=>{t!==location.href&&(t=location.href,e(location.href))})).observe(document,{subtree:!0,childList:!0})}logger(e,t="info"){this.configs.debug&&("error"===t&&console.error(e),"info"===t&&console.log(e))}getOptionsEl({bodyOptions:o,headerOptions:n}){const r=n&&n.length>0,i=document.createElement("div");i.setAttribute("style",`display: none; position: absolute; bottom: 70px; right: 0; color: ${this.configs.colorScheme.secondary.text}; background-color: ${this.configs.colorScheme.secondary.background}; border-radius: 5px; border: 1px solid ${this.configs.colorScheme.secondary.border}; box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1); white-space: nowrap;`),i.setAttribute("class",e.optionsContainer);const s=document.createElement("div");s.setAttribute("style",`width: 100%; display: grid; padding-top: 5px; grid-template-columns: ${r?"1fr 2fr":"1fr 1fr"};`);const c=document.createElement("div");c.textContent=`V${t.version}`,c.setAttribute("style",`display: flex; align-items: center; justify-content: center; font-size: 12px; color: ${this.configs.colorScheme.primary.background}; cursor: pointer;`),c.addEventListener("click",(()=>{i.style.display="none",window.open(`${t.link}/releases/tag/v${t.version}`,"_blank")})),s.appendChild(c);const a=document.createElement("div");a.setAttribute("style","display: flex; align-items: center; justify-content: space-around;");const l=document.createElement("img");l.src="https://www.svgrepo.com/show/512317/github-142.svg",l.setAttribute("style","width: 18px; height: 18px; cursor: pointer;"),l.addEventListener("click",(()=>{i.style.display="none",window.open(t.link,"_blank")})),this.addTooltipToElement(l,"visit the project github page"),a.appendChild(l),r&&n.forEach((e=>{const t=document.createElement("img");t.src=e.icon,t.setAttribute("style",`position: relative; width: 20px; height: 20px; cursor: pointer; ${e.cssStyle??""}`),t.addEventListener("click",(()=>{i.style.display="none",e.action()})),this.addTooltipToElement(t,e.description),a.appendChild(t)})),s.appendChild(a),i.appendChild(s);const d=document.createElement("div");return d.setAttribute("style",`border-top: 1px solid ${this.configs.colorScheme.secondary.border}; margin-top: 8px;`),i.appendChild(d),o&&o.forEach(((e,t)=>{const o=document.createElement("button");o.textContent=`${t+1} - ${e.name}`,o.setAttribute("data",`key_${t+1}`),o.setAttribute("style","display: block; width: 100%; padding: 10px; border: none; background-color: transparent; text-align: left;"),o.setAttribute("onmouseover",`this.style.backgroundColor = '${this.configs.colorScheme.primary.background}'; this.style.color = '${this.configs.colorScheme.primary.text}'; this.style.cursor = 'pointer';`),o.setAttribute("onmouseout",`this.style.backgroundColor = '${this.configs.colorScheme.secondary.background}'; this.style.color = '${this.configs.colorScheme.secondary.text}'; this.style.cursor = 'default';`),o.addEventListener("click",(()=>{i.style.display="none",document.removeEventListener("keydown",this.detectNumbersPress),e.action()})),i.appendChild(o)})),i}addTooltipToElement(e,t){e.setAttribute("title",t),e.addEventListener("mouseenter",(()=>{const t=document.createElement("div");t.setAttribute("style","content: attr(title); position: absolute; background: #333; color: #fff; border-radius: 4px; padding: 4px; top: -30px; left: 50%; transform: translateX(-50%); opacity: 0; transition: opacity 0.3s; z-index: 1;"),e.style.position="relative",e.appendChild(t),setTimeout((()=>{t.style.opacity="1"}),10)})),e.addEventListener("mouseleave",(()=>{const t=e.querySelector("div");t&&(t.style.opacity="0")}))}createFloatingHTML(){const t=document.createElement("div");t.setAttribute("style",`position: fixed; bottom: ${this.configs.floatingButton.bottom}; right: ${this.configs.floatingButton.right}; z-index: 9999;`),t.setAttribute("class",e.floatingContainer);const o=document.createElement("button");o.setAttribute("class",e.floatingButton),o.setAttribute("style",`border-radius: 50%; width: 50px; height: 50px; background-color: ${this.configs.colorScheme.primary.background}; color: ${this.configs.colorScheme.primary.text}; border: none; cursor: pointer; box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1); display: flex; align-items: center; justify-content: center;`);const n=document.createElement("img");return n.src=this.configs.floatingButton.iconImage,n.setAttribute("style",`width: 24px; height: 24px; ${this.configs.floatingButton.iconColorCss}`),o.appendChild(n),t.appendChild(o),document.body.appendChild(t),t}atachFloatingToHTML(t,o){const n=()=>{"none"===o.style.display||""===o.style.display?(o.style.display="block",document.addEventListener("keydown",(e=>this.detectNumbersPress(e)))):(o.style.display="none",document.removeEventListener("keydown",(e=>this.detectNumbersPress(e))))},r=e=>{this.configs.floatingButton.shortcutFn(e)&&(this.logger("detected shortcut combination, toggling floating button"),n())},i=t=>{const o=document.querySelector(`.${e.floatingContainer}`),n=document.querySelector(`.${e.optionsContainer}`);"block"!==n.style.display||o.contains(t.target)||(n.style.display="none")};t.appendChild(o);const s=document.querySelector(`.${e.floatingButton}`);if(!s)return this.logger("did not find button element","error"),()=>{};s.addEventListener("click",n),document.addEventListener("keydown",r),document.addEventListener("click",i);return()=>{s.removeEventListener("click",n),document.removeEventListener("keydown",r),document.removeEventListener("click",i)}}detectNumbersPress(t){const o=document.querySelector(`.${e.optionsContainer}`);if(!o||"block"!==o.style.display)return;if(!["1","2","3","4","5","6","7","8","9","0"].includes(t.key))return;const n=document.querySelector(`[data="key_${t.key}"]`);n&&(this.logger(`detected ${t.key} keypress, exec corresponding action`),n.click())}}function s(e){const t=function(e){const t=Object.getPrototypeOf(e),o=Object.getOwnPropertyNames(t),n=["constructor","logger","click","typeOnInput","addTooltipToElement"];return o.map((e=>{const o=Reflect.get(t,e);return{name:e,parameters:(o.toString().match(/\(([^)]*)\)/)?.[1].split(",").map((e=>e.trim())).filter(Boolean)||[]).join(", ")}})).filter((e=>!1===n.includes(e.name)))}(e);var o;return o="name",t.reduce(((e,t)=>{const{[o]:n,...r}=t;return e[t[o]]=r,e}),{})}return class{configs;attacherUtils;VERSION=t.version;BUILD_DATETIME=t.buildTime;constructor(e){const t={...o,...e||{},colorScheme:{...o.colorScheme,...e?.colorScheme??{}},floatingButton:{...o.floatingButton,...e?.floatingButton??{}}};this.configs=t,this.attacherUtils=new i(t)}help(){console.log("# METHODS =======================================================\n"),console.log("\nOther methods\n"),console.table({"webpageCustomizer.atach":{parameters:"optionsArr"},"webpageCustomizer.help":{parameters:""}}),console.log("\npageActionsAttacher.dataUtils\n"),console.table(s(new r)),console.log("\npageActionsAttacher.browserUtils\n"),console.table(s(new n)),console.log("\n# PACKAGE INFO ==================================================\n\n"),console.log(`name        : ${t.name}`),console.log(`version     : ${t.version}`),console.log(`build_time  : ${t.buildTime}`),console.log(`package link: ${t.link}`),console.log("\n# CURRENT PAGE INPUT NAMES ======================================"),Array.from(document.querySelectorAll("input")).forEach((e=>console.log(e.getAttribute("name"))))}logger(e,t){const o=t??"info";this.configs.debug&&("info"===o&&console.log(e),"error"===o&&console.error(e))}attach(e){return this.attacherUtils.attach(e)}updateOptions(e){return this.attacherUtils.updateOptions(e)}detach(){return this.attacherUtils.detach()}dataUtils(){return new r}browserUtils(){return new n(this.configs)}}}));
